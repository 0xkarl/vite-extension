!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("$vite_HTTP",[],t):"object"==typeof exports?exports.$vite_HTTP=t():chrome.$vite_HTTP=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=569)}({119:function(e,t,r){var n,o,i,u,a=this&&this.__extends||(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});!function(u){if("object"==typeof e.exports){var a=u(r(120),t);void 0!==a&&(e.exports=a)}else o=[r,t],void 0===(i="function"==typeof(n=u)?n.apply(t,o):n)||(e.exports=i)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty,n="function"==typeof Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&e===Math.floor(e)&&Math.abs(e)<=9007199254740991},o=function(){function e(){this.jsonrpc="2.0"}return e.prototype.serialize=function(){return JSON.stringify(this)},e.VERSION="2.0",e}();t.JsonRpc=o;var i=function(e){function t(t,r,n){var o=e.call(this)||this;return o.id=t,o.method=r,void 0!==n&&(o.params=n),o}return a(t,e),t}(o);t.RequestObject=i;var u=function(e){function t(t,r){var n=e.call(this)||this;return n.method=t,void 0!==r&&(n.params=r),n}return a(t,e),t}(o);t.NotificationObject=u;var s=function(e){function t(t,r){var n=e.call(this)||this;return n.id=t,n.result=r,n}return a(t,e),t}(o);t.SuccessObject=s;var c=function(e){function t(t,r){var n=e.call(this)||this;return n.id=t,n.error=r,n.id=t,n.error=r,n}return a(t,e),t}(o);t.ErrorObject=c;var f=function(e,t){this.payload=e,this.type=t,this.payload=e,this.type=t};t.JsonRpcParsed=f;var l=function(){function e(e,t,r){this.message=e,this.code=n(t)?t:0,null!=r&&(this.data=r)}return e.invalidRequest=function(t){return new e("Invalid request",-32600,t)},e.methodNotFound=function(t){return new e("Method not found",-32601,t)},e.invalidParams=function(t){return new e("Invalid params",-32602,t)},e.internalError=function(t){return new e("Internal error",-32603,t)},e.parseError=function(t){return new e("Parse error",-32700,t)},e}();function d(e,t,r){var n=new i(e,t,r);return m(n,!0),n}function p(e,t){var r=new u(e,t);return m(r,!0),r}function h(e,t){var r=new s(e,t);return m(r,!0),r}function v(e,t){var r=new c(e,t);return m(r,!0),r}function y(e){if(!g(e))return new f(l.invalidRequest(e),"invalid");var t;try{t=JSON.parse(e)}catch(t){return new f(l.parseError(e),"invalid")}return R(t)}function R(e){if(!Array.isArray(e))return b(e);if(0===e.length)return new f(l.invalidRequest(e),"invalid");for(var t=[],r=0,n=e.length;r<n;r++)t[r]=b(e[r]);return t}function b(e){var t=null,n=null,a="invalid";if(null==e||e.jsonrpc!==o.VERSION)t=l.invalidRequest(e),a="invalid";else if(r.call(e,"id")){if(r.call(e,"method")){t=m(n=new i((p=e).id,p.method,p.params)),a="request"}else if(r.call(e,"result")){t=m(n=new s((p=e).id,p.result)),a="success"}else if(r.call(e,"error")){if(a="error",null==(p=e).error)t=l.internalError(p);else{var d=new l(p.error.message,p.error.code,p.error.data);t=d.message!==p.error.message||d.code!==p.error.code?l.internalError(p):m(n=new c(p.id,d))}}}else{var p;t=m(n=new u((p=e).method,p.params)),a="notification"}return null==t&&null!=n?new f(n,a):new f(null!=t?t:l.invalidRequest(e),"invalid")}function m(e,t){var r=null;if(e instanceof i?(null==(r=O(e.id))&&(r=_(e.method)),null==r&&(r=E(e.params))):e instanceof u?null==(r=_(e.method))&&(r=E(e.params)):e instanceof s?null==(r=O(e.id))&&(r=void 0===e.result?l.internalError("Result must exist for success Response objects"):null):e instanceof c&&null==(r=O(e.id,!0))&&(r=function(e){if(!(e instanceof l))return l.internalError("Error must be an instance of JsonRpcError");if(!n(e.code))return l.internalError("Invalid error code. It must be an integer.");if(!g(e.message))return l.internalError("Message must exist or must be a string.");return null}(e.error)),t&&null!=r)throw r;return r}function O(e,t){return t&&null===e||g(e)||n(e)?null:l.internalError('"id" must be provided, a string or an integer.')}function _(e){return g(e)?null:l.invalidRequest(e)}function E(e){if(void 0===e)return null;if(Array.isArray(e)||null!=(t=e)&&"object"==typeof t&&!Array.isArray(t))try{return JSON.stringify(e),null}catch(t){return l.parseError(e)}var t;return l.invalidParams(e)}function g(e){return""!==e&&"string"==typeof e}t.JsonRpcError=l,t.request=d,t.notification=p,t.success=h,t.error=v,t.parse=y,t.parseJsonRpcObject=R,t.parseJsonRpcString=y,t.parseObject=b;var w={JsonRpc:o,JsonRpcError:l,request:d,notification:p,success:h,error:v,parse:y,parseObject:b,parseJsonRpcObject:R,parseJsonRpcString:t.parseJsonRpcString};t.jsonrpc=w,t.default=w}))},120:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=120},56:function(e,t,r){"use strict";var n={CONNECT:function(e){return new Error("CONNECTION ERROR: Couldn't connect to node ".concat(e,"."))},ABORT:function(){return new Error("ABORT ERROR: Request already aborted.")},PARAMS:function(){return new Error("PARAMS ERROR.")},TIMEOUT:function(e){return new Error("CONNECTION TIMEOUT: timeout of ".concat(e," ms achived"))},INVAILID_RESPONSE:function(e){return new Error("Invalid JSON RPC response: ".concat(JSON.stringify(e)))},IPC_ON:function(e){return new Error("Invalid IPC event on: ".concat(JSON.stringify(e)))},IPC_ON_CB:function(e){return new Error("The IPC on event ".concat(JSON.stringify(e),", cb is necessary"))}};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(119),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ERRORS=n,this.jsonrpc=i,this._requestManager={},this._requestId=0}var t,r,u;return t=e,(r=[{key:"abort",value:function(){var e=this;Object.values(this._requestManager).forEach((function(t){var r=t.request,n=t.rej;r.abort(),n(e.ERRORS.ABORT())})),this._requestManager={}}},{key:"_addReq",value:function(e){var t=e.request,r={request:t,rej:e.rej};return this._requestManager[t.id]=r,r}},{key:"_removeReq",value:function(e){delete this._requestManager[e.request.id]}},{key:"_getRequestPayload",value:function(e,t){return e?(this._requestId++,this.jsonrpc.request(this._requestId,e,t)):n.PARAMS()}},{key:"_getNotificationPayload",value:function(e,t){return e?this.jsonrpc.notification(e,t):n.PARAMS()}},{key:"_getBatchPayload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e||!e.length)return n.PARAMS();for(var t=[],r=0;r<e.length;r++){var o=e[r];if(!o||!o.type||"request"!==o.type&&"notification"!==o.type)return n.PARAMS();var i="notification"===o.type?this._getNotificationPayload(o.methodName,o.params):this._getRequestPayload(o.methodName,o.params);if(i instanceof Error)return i;t.push(i)}return t}}])&&o(t.prototype,r),u&&o(t,u),e}();t.a=u},569:function(e,t,r){"use strict";r.r(t),r.d(t,"HTTP_RPC",(function(){return d}));var n=r(56);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l="undefined"!=typeof window&&window.fetch?window.fetch:r(570),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,o=s(c);function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:8415",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{headers:[]};return i(this,c),(e=o.call(this)).type="http",e.host=t,e.timeout=r,e.headers=n.headers,e.requestId=0,e}return t=c,(r=[{key:"_send",value:function(e){var t=this;return new Promise((function(r,n){var o=!1,i={"Content-Type":"application/json;charset=utf-8"};t.headers&&t.headers.forEach((function(e){i[e.name]=e.value}));var u=l(t.host,{method:"POST",headers:i,body:JSON.stringify(e)});u.id=t.requestId++;var a=t._addReq({request:u,rej:function(e){o=!0,n(e)}}),s=function(){c&&clearTimeout(c),c=null,t._removeReq(a)},c=t.timeout?setTimeout((function(){if(!o)return s(),n(t.ERRORS.TIMEOUT(t.timeout))}),t.timeout):null;u.then((function(e){return e.text().then((function(e){s();var o=e;try{if((o=o?JSON.parse(o):null)&&o.error)return n(o)}catch(e){return n(t.ERRORS.INVAILID_RESPONSE(o))}return r(o)}))}),(function(e){return s(),n(t.ERRORS.CONNECT(t.host))}))}))}},{key:"request",value:function(e,t){var r=this,n=this._getRequestPayload(e,t);return n instanceof Error?Promise.reject(n):this._send(n).then((function(e){if(!e)throw r.ERRORS.INVAILID_RESPONSE(e);return{result:e.result||null,error:e.error||null}}))}},{key:"sendNotification",value:function(e,t){var r=this._getNotificationPayload(e,t);return r instanceof Error?Promise.reject(r):this._send(r)}},{key:"batch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this._getBatchPayload(e);return t instanceof Error?Promise.reject(t):this._send(t).then((function(e){e=(e||[]).sort((function(e,t){return e.id-t.id}));var r=[],n=0;return t.forEach((function(t){t.id?(r.push({result:e&&e[n]&&e[n].result||null,error:e&&e[n]&&e[n].error||null}),n++):r.push(null)})),e=null,t=null,r}))}}])&&u(t.prototype,r),n&&u(t,n),c}(n.a);t.default=d},570:function(e,t,r){"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}})}));